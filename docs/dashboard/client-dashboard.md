# ğŸ‘¤ Dashboard Cliente

## Panoramica

La dashboard cliente permette agli utenti di gestire le proprie prenotazioni, visualizzare lo storico servizi, comunicare con i fornitori e lasciare recensioni.

## Struttura Dashboard

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  CLIENT DASHBOARD                                                          â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                           â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘
â•‘  â”‚  ğŸ‘¤ PROFILO UTENTE                                                  â”‚ â•‘
â•‘  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â” Mario Rossi                                               â”‚ â•‘
â•‘  â”‚  â”‚ ğŸ–¼ï¸  â”‚ mario.rossi@email.com                                     â”‚ â•‘
â•‘  â”‚  â”‚      â”‚ Membro da: Gennaio 2024                                   â”‚ â•‘
â•‘  â”‚  â””â”€â”€â”€â”€â”€â”€â”˜ 12 prenotazioni completate                                â”‚ â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘
â•‘                                                                           â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘
â•‘  â”‚  ğŸ“… PROSSIME PRENOTAZIONI                                           â”‚ â•‘
â•‘  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â•‘
â•‘  â”‚  â”‚ ğŸ§¹ Pulizia Casa                                               â”‚ â”‚ â•‘
â•‘  â”‚  â”‚ ğŸ“… MercoledÃ¬ 27 Nov, 14:00-16:00                             â”‚ â”‚ â•‘
â•‘  â”‚  â”‚ ğŸ‘¤ CleanPro Service - â­4.8                                   â”‚ â”‚ â•‘
â•‘  â”‚  â”‚ ğŸ“ Via Roma 10, Milano                                        â”‚ â”‚ â•‘
â•‘  â”‚  â”‚ ğŸ’° â‚¬50.00                                                     â”‚ â”‚ â•‘
â•‘  â”‚  â”‚ [ğŸ’¬ Chat] [ğŸ“„ Dettagli] [âŒ Cancella]                        â”‚ â”‚ â•‘
â•‘  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘
â•‘                                                                           â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘
â•‘  â”‚  ğŸ“œ STORICO SERVIZI                                                 â”‚ â•‘
â•‘  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ â•‘
â•‘  â”‚  â”‚ âœ… 20 Nov â”‚ Pulizia Casa â”‚ â‚¬50.00 â”‚ â­â­â­â­â­ Recensito     â”‚   â”‚ â•‘
â•‘  â”‚  â”‚ âœ… 15 Nov â”‚ Giardinaggio â”‚ â‚¬80.00 â”‚ [Lascia Recensione]    â”‚   â”‚ â•‘
â•‘  â”‚  â”‚ âŒ 10 Nov â”‚ Elettricista â”‚ â‚¬0.00  â”‚ Cancellato - Rimborsato â”‚   â”‚ â•‘
â•‘  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘
â•‘                                                                           â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â•‘
â•‘  â”‚ ğŸ”– SERVIZI PREFERITI       â”‚ â”‚ ğŸ’¬ CONVERSAZIONI                   â”‚   â•‘
â•‘  â”‚ â”œâ”€ CleanPro Service       â”‚ â”‚ â”œâ”€ CleanPro: "Confermo per..."    â”‚   â•‘
â•‘  â”‚ â”œâ”€ GiardinoTop            â”‚ â”‚ â””â”€ ElettricaRapida: "Buongiorno..."â”‚   â•‘
â•‘  â”‚ â””â”€ IdraulicoExpress       â”‚ â”‚                                     â”‚   â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â•‘
â•‘                                                                           â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

## Componente Principale

```tsx
// src-react/components/ClientDashboard.tsx
const ClientDashboard: React.FC = () => {
  const { user } = useAuth();
  const [bookings, setBookings] = useState<Booking[]>([]);
  const [activeTab, setActiveTab] = useState<
    "upcoming" | "history" | "favorites"
  >("upcoming");

  useEffect(() => {
    loadBookings();
  }, []);

  const upcomingBookings = bookings.filter(
    (b) =>
      ["pending", "confirmed"].includes(b.status) &&
      new Date(b.date) >= new Date()
  );

  const pastBookings = bookings.filter(
    (b) => b.status === "completed" || new Date(b.date) < new Date()
  );

  return (
    <div className="client-dashboard">
      {/* Header Profilo */}
      <div className="profile-header">
        <img
          src={user?.avatar || "/default-avatar.png"}
          alt=""
          className="avatar"
        />
        <div className="info">
          <h2>{user?.name}</h2>
          <p>{user?.email}</p>
          <span className="member-since">
            Membro da {formatDate(user?.createdAt)}
          </span>
        </div>
        <button onClick={() => navigate("/profile")}>Modifica Profilo</button>
      </div>

      {/* Tabs */}
      <div className="dashboard-tabs">
        <button
          className={activeTab === "upcoming" ? "active" : ""}
          onClick={() => setActiveTab("upcoming")}
        >
          Prossime ({upcomingBookings.length})
        </button>
        <button
          className={activeTab === "history" ? "active" : ""}
          onClick={() => setActiveTab("history")}
        >
          Storico
        </button>
        <button
          className={activeTab === "favorites" ? "active" : ""}
          onClick={() => setActiveTab("favorites")}
        >
          Preferiti
        </button>
      </div>

      {/* Contenuto Tab */}
      <div className="tab-content">
        {activeTab === "upcoming" && (
          <UpcomingBookings bookings={upcomingBookings} />
        )}
        {activeTab === "history" && <BookingHistory bookings={pastBookings} />}
        {activeTab === "favorites" && <FavoriteServices />}
      </div>
    </div>
  );
};
```

## Flusso Prenotazione Cliente

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                 CICLO VITA PRENOTAZIONE                       â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. RICERCA E SELEZIONE                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Cliente cerca "pulizie" a "Milano"                      â”‚ â”‚
â”‚  â”‚ â†’ Visualizza risultati su mappa e lista                 â”‚ â”‚
â”‚  â”‚ â†’ Seleziona servizio                                    â”‚ â”‚
â”‚  â”‚ â†’ Apre form prenotazione intelligente                   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  2. COMPILAZIONE PRENOTAZIONE                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Step 1: Seleziona data e fascia oraria                  â”‚ â”‚
â”‚  â”‚ Step 2: Inserisce dettagli (metratura, tipo servizio)   â”‚ â”‚
â”‚  â”‚ Step 3: Vede stima prezzo e conferma                    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  3. PAGAMENTO                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ â†’ Redirect a Stripe Checkout                            â”‚ â”‚
â”‚  â”‚ â†’ Pagamento trattenuto in escrow                        â”‚ â”‚
â”‚  â”‚ â†’ Prenotazione creata con status "pending"              â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  4. ATTESA CONFERMA                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Status: â³ PENDING                                       â”‚ â”‚
â”‚  â”‚ â€¢ Notifica inviata al fornitore                         â”‚ â”‚
â”‚  â”‚ â€¢ Cliente puÃ² chattare con fornitore                    â”‚ â”‚
â”‚  â”‚ â€¢ Cliente puÃ² cancellare (rimborso completo)            â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚                           â”‚
              â–¼                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ FORNITORE CONFERMA      â”‚   â”‚ FORNITORE RIFIUTA       â”‚
â”‚ Status: âœ… CONFIRMED     â”‚   â”‚ Status: âŒ CANCELLED     â”‚
â”‚                         â”‚   â”‚                         â”‚
â”‚ â€¢ Notifica al cliente   â”‚   â”‚ â€¢ Rimborso automatico   â”‚
â”‚ â€¢ Appare nel calendario â”‚   â”‚ â€¢ Notifica al cliente   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  5. SERVIZIO                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ â€¢ Il giorno concordato il fornitore esegue il servizio  â”‚ â”‚
â”‚  â”‚ â€¢ Comunicazione via chat                                â”‚ â”‚
â”‚  â”‚ â€¢ Fornitore marca come "completato"                     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  6. COMPLETAMENTO                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Status: ğŸ‰ COMPLETED                                     â”‚ â”‚
â”‚  â”‚ â€¢ Pagamento rilasciato al fornitore                     â”‚ â”‚
â”‚  â”‚ â€¢ Cliente invitato a lasciare recensione                â”‚ â”‚
â”‚  â”‚ â€¢ Prenotazione va nello storico                         â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Componente Card Prenotazione

```tsx
// BookingCard.tsx
const BookingCard: React.FC<{ booking: Booking }> = ({ booking }) => {
  const [showChat, setShowChat] = useState(false);

  const statusConfig = {
    pending: { label: "In attesa", color: "#f59e0b", icon: "â³" },
    confirmed: { label: "Confermata", color: "#22c55e", icon: "âœ…" },
    completed: { label: "Completata", color: "#3b82f6", icon: "ğŸ‰" },
    cancelled: { label: "Cancellata", color: "#ef4444", icon: "âŒ" },
  };

  const status = statusConfig[booking.status];

  return (
    <div className="booking-card">
      <div className="booking-header">
        <img src={booking.service.images[0]} alt="" />
        <div>
          <h4>{booking.service.name}</h4>
          <p className="provider-name">
            {booking.service.provider.name} â€¢ â­{booking.service.rating}
          </p>
        </div>
        <span
          className="status-badge"
          style={{ backgroundColor: status.color }}
        >
          {status.icon} {status.label}
        </span>
      </div>

      <div className="booking-details">
        <div className="detail">
          <span className="icon">ğŸ“…</span>
          <span>
            {formatDate(booking.date)}, {booking.timeSlot}
          </span>
        </div>
        <div className="detail">
          <span className="icon">ğŸ“</span>
          <span>{booking.address}</span>
        </div>
        <div className="detail">
          <span className="icon">â±ï¸</span>
          <span>{booking.duration} minuti</span>
        </div>
        <div className="detail">
          <span className="icon">ğŸ’°</span>
          <span>â‚¬{booking.totalPrice.toFixed(2)}</span>
        </div>
      </div>

      <div className="booking-actions">
        <button onClick={() => setShowChat(true)} className="btn-chat">
          ğŸ’¬ Chat
        </button>

        {["pending", "confirmed"].includes(booking.status) && (
          <button
            onClick={() => cancelBooking(booking.id)}
            className="btn-cancel"
          >
            âŒ Cancella
          </button>
        )}

        {booking.status === "completed" && !booking.hasReview && (
          <button
            onClick={() => openReviewModal(booking)}
            className="btn-review"
          >
            â­ Recensisci
          </button>
        )}
      </div>

      {showChat && (
        <ChatModal booking={booking} onClose={() => setShowChat(false)} />
      )}
    </div>
  );
};
```

## Sistema Preferiti

```tsx
// FavoriteServices.tsx
const FavoriteServices: React.FC = () => {
  const [favorites, setFavorites] = useState<Service[]>([]);

  const toggleFavorite = async (serviceId: string) => {
    const isFav = favorites.some((f) => f.id === serviceId);

    if (isFav) {
      await api.delete(`/favorites/${serviceId}`);
      setFavorites(favorites.filter((f) => f.id !== serviceId));
    } else {
      await api.post(`/favorites/${serviceId}`);
      // Ricarica lista
    }
  };

  return (
    <div className="favorites-grid">
      {favorites.length === 0 ? (
        <div className="empty-state">
          <p>Non hai ancora servizi preferiti</p>
          <button onClick={() => navigate("/search")}>Cerca Servizi</button>
        </div>
      ) : (
        favorites.map((service) => (
          <ServiceCard
            key={service.id}
            service={service}
            isFavorite={true}
            onFavoriteToggle={() => toggleFavorite(service.id)}
          />
        ))
      )}
    </div>
  );
};
```

## API Dashboard Cliente

| Metodo | Endpoint                    | Descrizione                |
| ------ | --------------------------- | -------------------------- |
| GET    | `/api/bookings`             | Lista prenotazioni cliente |
| GET    | `/api/bookings/:id`         | Dettaglio prenotazione     |
| DELETE | `/api/bookings/:id`         | Cancella prenotazione      |
| GET    | `/api/favorites`            | Lista servizi preferiti    |
| POST   | `/api/favorites/:serviceId` | Aggiungi preferito         |
| DELETE | `/api/favorites/:serviceId` | Rimuovi preferito          |
| POST   | `/api/reviews`              | Crea recensione            |
| GET    | `/api/user/profile`         | Profilo utente             |
| PUT    | `/api/user/profile`         | Aggiorna profilo           |

## Cancellazione Prenotazione

```tsx
const cancelBooking = async (bookingId: string) => {
  const confirmed = await showConfirmDialog({
    title: "Cancella Prenotazione",
    message:
      "Sei sicuro di voler cancellare questa prenotazione? Riceverai un rimborso completo.",
    confirmText: "SÃ¬, cancella",
    cancelText: "No, mantieni",
  });

  if (confirmed) {
    try {
      await api.delete(`/bookings/${bookingId}`);
      showToast({
        type: "success",
        message: "Prenotazione cancellata. Rimborso in elaborazione.",
      });
      loadBookings(); // Ricarica lista
    } catch (error) {
      showToast({ type: "error", message: "Errore durante la cancellazione" });
    }
  }
};
```

## Notifiche Cliente

Eventi che generano notifiche:

- âœ… **Prenotazione confermata dal fornitore**
- âŒ **Prenotazione rifiutata dal fornitore**
- ğŸ’¬ **Nuovo messaggio dal fornitore**
- ğŸ‰ **Servizio completato - lascia una recensione**
- ğŸ’° **Rimborso elaborato**
